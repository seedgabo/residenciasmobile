{"version":3,"sources":["../../src/pages/surveys/surveys.module.ts","../../src/pages/surveys/surveys.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAOxC,IAAa,iBAAiB;IAA9B;IAAiC,CAAC;IAAD,wBAAC;AAAD,CAAC;AAArB,iBAAiB;IAN7B,+DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,6DAAW,CAAC;QAC3B,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;SACtC;KACF,CAAC;GACW,iBAAiB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;ACTS;AACG;AACe;AACf;AAE1C,IAAI,IAAI;AAQR,IAAa,WAAW;IAEtB,qBAAmB,OAAsB,EAAS,SAAoB,EAAS,GAAQ,EAAS,MAAc;QAA3F,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,QAAG,GAAH,GAAG,CAAK;QAAS,WAAM,GAAN,MAAM,CAAQ;QAD9G,YAAO,GAAG,EAAE,CAAC;IAEb,CAAC;IAED,oCAAc,GAAd;QAAA,iBAQC;QAPC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,GAAG,UAAC,IAAI;YACV,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC;QACvB,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC;IAC/C,CAAC;IACD,qCAAe,GAAf;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IAEpB,CAAC;IAED,qCAAe,GAAf;QACE,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,gBAAgB,EAAE,IAAI,CAAC;IACjD,CAAC;IAED,gCAAU,GAAV,UAAW,SAAgB;QAA3B,iBAcC;QAdU,4CAAgB;QACzB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,0CAA0C,CAAC;aACrD,IAAI,CAAC,UAAC,IAAS;YACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,EAAE,CAAC,CAAC,SAAS,IAAI,OAAO,SAAS,CAAC,QAAQ,KAAK,UAAU,CAAC;gBACxD,SAAS,CAAC,QAAQ,EAAE;QACxB,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACT,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,SAAS,IAAI,OAAO,SAAS,CAAC,QAAQ,KAAK,UAAU,CAAC;gBACxD,SAAS,CAAC,QAAQ,EAAE;QACxB,CAAC,CAAC,CAAC;IAEP,CAAC;IAED,gCAAU,GAAV,UAAW,MAAM;QACf,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;IACtD,CAAC;IAEH,kBAAC;AAAD,CAAC;AA7CY,WAAW;IAJvB,gEAAS,CAAC;QACT,QAAQ,EAAE,cAAc;OACG;KAC5B,CAAC;gBAG8G;AA2C/G;SA7CY,WAAW,e","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SurveysPage } from './surveys';\n@NgModule({\n  declarations: [SurveysPage],\n  imports: [\n    IonicPageModule.forChild(SurveysPage)\n  ],\n})\nexport class SurveysPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/surveys/surveys.module.ts","import { Events } from 'ionic-angular';\nimport { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Api } from \"../../providers/api\";\n\nvar func\nimport {IonicPage} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  selector: 'page-surveys',\n  templateUrl: 'surveys.html',\n})\nexport class SurveysPage {\n  surveys = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams, public api: Api, public events: Events) {\n  }\n\n  ionViewDidLoad() {\n    this.getSurveys();\n    func = (data) => {\n      this.getSurveys(data)\n    }\n    this.events.subscribe('survey:created', func)\n    this.events.subscribe('survey:updated', func)\n    this.events.subscribe('survey:deleted', func)\n  }\n  ionViewDidEnter() {\n    this.getSurveys();\n\n  }\n\n  ionViewDidLeave() {\n    this.events.unsubscribe('survey:created', func)\n    this.events.unsubscribe('survey:updated', func)\n    this.events.unsubscribe('survey:deleted', func)\n  }\n\n  getSurveys(refresher = null) {\n    this.api.get('surveys?take=50&orderBy[close_time]=desc')\n      .then((data: any) => {\n        console.log(data);\n        this.surveys = data;\n        if (refresher && typeof refresher.complete === 'function')\n          refresher.complete()\n      })\n      .catch((err) => {\n        console.error(err);\n        if (refresher && typeof refresher.complete === 'function')\n          refresher.complete()\n      });\n\n  }\n\n  gotoSurvey(survey) {\n    this.navCtrl.push('SurveyPage', { survey: survey });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/surveys/surveys.ts"],"sourceRoot":""}