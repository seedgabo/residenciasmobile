{"version":3,"sources":["../../src/pages/posts/posts.module.ts","../../src/pages/posts/posts.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACZ;AACmB;AAQvD,IAAa,eAAe;IAA5B;IAA+B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAnB,eAAe;IAP3B,+DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,yDAAS,CAAC;QACzB,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,yDAAS,CAAC;YACnC,wEAAW;SACZ;KACF,CAAC;GACW,eAAe,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;ACXc;AACe;AACf;AAU1C,IAAa,SAAS;IAEpB,mBAAmB,OAAsB,EAAS,SAAoB,EAAS,GAAQ;QAApE,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,QAAG,GAAH,GAAG,CAAK;QADvF,UAAK,GAAQ,EAAE,CAAC;IAEhB,CAAC;IAED,mCAAe,GAAf;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,4BAAQ,GAAR,UAAS,SAAgB;QAAzB,iBAaC;QAbQ,4CAAgB;QACvB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,sFAAsF,CAAC;aACjG,IAAI,CAAC,UAAC,IAAS;YACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,EAAE,CAAC,CAAC,SAAS,CAAC;gBACZ,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACT,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnB,EAAE,CAAC,CAAC,SAAS,CAAC;gBACZ,SAAS,CAAC,QAAQ,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAU,GAAV;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACnC,CAAC;IAED,8BAAU,GAAV,UAAW,IAAI,EAAE,KAAK;QAAtB,iBASC;QARC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC;aAChC,IAAI,CAAC,UAAC,GAAG;YACR,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAClC,CAAC,CAAC;aACD,KAAK,CAAC,UAAC,GAAG;YACT,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;IACP,CAAC;IAEH,gBAAC;AAAD,CAAC;AAvCY,SAAS;IAJrB,gEAAS,CAAC;QACT,QAAQ,EAAE,YAAY;OACG;KAC1B,CAAC;cAGuF;AAqCxF;SAvCY,SAAS,e","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PostsPage } from './posts';\nimport { PipesModule } from '../../pipes/pipes.module';\n@NgModule({\n  declarations: [PostsPage],\n  imports: [\n    IonicPageModule.forChild(PostsPage),\n    PipesModule\n  ],\n})\nexport class PostsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/posts/posts.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { Api } from \"../../providers/api\";\n\n\nimport {IonicPage} from \"ionic-angular\";\n\n@IonicPage()\n@Component({\n  selector: 'page-posts',\n  templateUrl: 'posts.html',\n})\nexport class PostsPage {\n  posts: any = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams, public api: Api) {\n  }\n\n  ionViewDidEnter() {\n    this.getPosts();\n  }\n\n  getPosts(refresher = null) {\n    this.api.get('posts?limit=50&order[created_at]=desc&with[]=user.residence&with[]=tags&with[]=image')\n      .then((data: any) => {\n        console.log(data);\n        this.posts = data;\n        if (refresher)\n          refresher.complete();\n      })\n      .catch((err) => {\n        console.error(err);\n        if (refresher)\n          refresher.complete();\n      });\n  }\n\n  createPost() {\n    this.navCtrl.push('AddPostPage');\n  }\n\n  deletePost(post, index) {\n    this.api.delete('posts/' + post.id)\n      .then((dat) => {\n        console.log(dat);\n        this.posts.splice(index, index);\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/posts/posts.ts"],"sourceRoot":""}